# Blueprints

Static mesh in blueprint 

![BlueprintStaticMesh](./Images/BlueprintStaticMesh.jpg)

## Game Mode

Game mode with custom pawn and character controller

![BlueprintWithCustomPawnAndPlayerController](./Images/BlueprintWithCustomPawnAndPlayerController.jpg)

In project settings replace game mode with the custom one

![ProjectSettingsGameMode](./Images/ProjectSettingsGameMode.jpg)


## Character

Character with camera:
- Use spring arm to control camera rotation and distance to a target
- Add a camera as a child of the spring arm
- Adjust the spring arm rotation and lenght

![BlueprintCharacterCamera](./Images/BlueprintCharacterCamera.jpg)
![BlueprintCharacterCamera2](./Images/BlueprintCharacterCamera2.jpg)

### Character modifiable params

In construc script:
- Expose component param as variable
- Set variable visibility to public

![ConstructionScript](./Images/ConstructionScript.jpg)

![ConstructionScriptPublicParam](./Images/ConstructionScriptPublicParam.jpg)

## Character controller

Moving character to cursor while mouse down:

- In project settings:
    - Add a left mouse button named binding

- In character controller blueprint:
    - Add a boolean variable to track mouse pressed/released
    - Use named binding to set/unset the boolean variable 
    - Use get controller node pawn to get current location and perform movement
    - Use hit result under cursor by channel to get cursor position
    - Get direction from actor location and cursor locatio
    - Use a branch node to enable the add movement input when the boolean variable is set


![ProjectSettingsInputBinding](./Images/ProjectSettingsInputBinding.jpg)
![BlueprintCharacterControllerMouseClickMovement](./Images/BlueprintCharacterControllerMouseClickMovement.jpg)

## Spawn actors

To spawn other actors from an event:
- Use Spawn Actor from class

![SpawnActors](./Images/Blueprint/SpawnActors.jpg)

## Find actors

Using blueprint functions we can encapsulate the logic finding actors by class, this way we keep the event graph tidier:
1. Create a function in the blueprint
2. Set the output/inputs as needed
3. Add the graph with the logic
4. Use it in the event graph
    - (Optional) Configure the function as pure when no need to trigger from other nodes.

![BlueprintFunctions](./Images/Blueprint/BlueprintFunctions.jpg)
![BlueprintFunctionsOutputs](./Images/Blueprint/BlueprintFunctionsOutputs.jpg)
![BlueprintFunctionsFindActors](./Images/Blueprint/BlueprintFunctionsFindActors.jpg)
![BlueprintFunctionsUse](./Images/Blueprint/BlueprintFunctionsUse.jpg)
![BlueprintFunctionsPure](./Images/Blueprint/BlueprintFunctionsPure.jpg)

## Destroy actors on overlap

In a blueprint, we can add an events to static mesh and perform any logic when it occurs. 

For this case we use the overlap being event:
1. Create a overlap beging event in the static mesh
2. Add logic to destroy the actor when the overlap happens with a specific class

![BlueprintEventStaticMesh](./Images/Blueprint/BlueprintEventStaticMesh.jpg)
![BlueprintDestroyOnOverlap](./Images/Blueprint/BlueprintDestroyOnOverlap.jpg)

## Timeline animation with collision and event triggers

In a blueprint:
1. Add a box collision component 
2. Add the event/s to the box collision that will trigger the animation timeline
3. Add a timeline animation node in the event graph
4. Adjust the animation timeline curve and values
5. Add the logic to trigger the timeline animation and apply the transformation to the component 

![BoxCollision](./Images/Blueprint/BoxCollision.jpg)
![TimelineAnimationNode](./Images/Blueprint/TimelineAnimationNode.jpg)
![TimelineAnimation](./Images/Blueprint/TimelineAnimation.jpg)
![TimelineAnimation2](./Images/Blueprint/TimelineAnimation2.jpg)
![TimelineAnimation3](./Images/Blueprint/TimelineAnimation3.jpg)
![TimelineAnimation4](./Images/Blueprint/TimelineAnimation4.jpg)